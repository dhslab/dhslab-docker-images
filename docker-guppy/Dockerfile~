FROM ubuntu:20.04
MAINTAINER David H. Spencer <dspencer@wustl.edu>

LABEL description="ont guppy"

RUN apt-get update -y && apt-get install -y tzdata

#set timezone to CDT
RUN ln -sf /usr/share/zoneinfo/America/Chicago /etc/localtime
#LSF: Java bug that need to change the /etc/timezone.
#     The above /etc/localtime is not enough.
RUN echo "America/Chicago" > /etc/timezone
RUN dpkg-reconfigure --frontend noninteractive tzdata


RUN apt install -y wget lsb-release
RUN export PLATFORM=$(lsb_release -cs)

WORKDIR /opt

RUN https://cdn.oxfordnanoportal.com/software/analysis/ont-guppy_6.3.8_linux64.tar.gz && \
    tar -zxvf ont-guppy_6.3.8_linux64.tar.gz
